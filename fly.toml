app = "superbudget-app"
primary_region = "<same region as MySQL>"

[build]
dockerfile = "Dockerfile"

[[services]]
internal_port = 8080
protocol = "tcp"
# (other http_service settings will be autoâ€‘generated by Fly)

[env]
SPRING_DATASOURCE_URL = "jdbc:mysql://superbudget-mysql.internal:3306/budgetapp?allowPublicKeyRetrieval=true&useSSL=false"
SPRING_DATASOURCE_USERNAME = "newuser"
SPRING_DATASOURCE_PASSWORD = "<user_password>"          # same as MYSQL_PASSWORD secret
SPRING_JPA_HIBERNATE_DDL_AUTO = "update"
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT = "org.hibernate.dialect.MySQLDialect"
